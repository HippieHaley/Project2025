<!DOCTYPE html>
<html lang="en">
  <script src="catalog.js"></script>
<head>
  <meta charset="UTF-8" />
  <title>Interactive Pricelist</title>
  <style>
    :root {
      --blue: #acdbf9; 
      --ink: #222; 
      --rule: #000; 
      --bar: #d9d9d9;
    }
    
    html, body { 
      margin: 0; 
      font-family: Arial, Helvetica, sans-serif; 
    }
    
    body { 
      background: var(--blue); 
      color: var(--ink); 
    }

    .page-wrapper { 
      max-width: 1100px; 
      margin: 0 auto; 
      padding: 0 16px 40px; 
    }

    .back-home {
      position: fixed; 
      top: 20px; 
      left: 20px;
      display: inline-block; 
      padding: 10px 20px; 
      border: 1px solid #000; 
      border-radius: 30px;
      background: #f8c9f9; 
      color: #000; 
      text-decoration: none; 
      font-weight: 700;
    }

    header { 
      text-align: center; 
      padding-top: 72px; 
    }
    
    .controls {
      margin: 10px auto 14px; 
      display: flex; 
      flex-wrap: wrap; 
      gap: 10px; 
      align-items: center; 
      justify-content: center;
    }
    
    select#percentSelector, .toggle-codes {
      padding: 8px 12px; 
      border: 1px solid #000; 
      border-radius: 22px; 
      background: #f8c9f9; 
      font-weight: 600;
    }
    
    .toggle-codes { 
      cursor: pointer; 
      user-select: none; 
    }

    /* Overall page columns: left grid + receipt */
    .content { 
      display: grid; 
      grid-template-columns: 1fr 360px; 
      gap: 18px; 
    }

    /* =======================
       CORRECTED GRID LAYOUT
       ======================= */
    .sections {
      display: grid;
      grid-template-columns: repeat(3, 1fr); /* Only 3 columns needed */
      grid-template-rows: auto auto;         /* 2 rows */
      gap: 10px 10px;
      border-top: 2px solid var(--rule);
      border-bottom: 2px solid var(--rule);
      padding: 8px 0 6px;
      align-items: start;
    }

    /* ROW 1: Visit Codes spans first 2 columns */
    #section-visits {
      grid-column: 1 / span 2;  /* Spans columns 1-2 */
      grid-row: 1;
      padding: 0 6px;
    }

    /* ROW 2: Three working sections */
    #section-procedures { 
      grid-column: 1; 
      grid-row: 2; 
      padding: 0 6px; 
      border-right: 1px solid #000;
    }
    
    #section-labs { 
      grid-column: 2; 
      grid-row: 2; 
      padding: 0 6px; 
      border-right: 1px solid #000;
    }
    
    #section-meds { 
      grid-column: 3; 
      grid-row: 2; 
      padding: 0 6px; 
    }

    /* Grey section bars */
    .section { 
      background: transparent; 
      border: none; 
    }
    
    .bar {
      background: var(--bar);
      padding: 6px 8px; 
      font-weight: 800; 
      font-size: .9rem; 
      text-transform: uppercase;
      border: 1px solid var(--rule);
      margin: 0 0 4px 0;
    }

    /* VISIT CODES block broken into 2 sub-columns */
    #section-visits .list {
      column-count: 2;
      column-gap: 10px;
    }
    
    #section-visits .subbox {
      break-inside: avoid;
      border: 1px solid var(--rule);
      padding: 6px 8px;
      margin: 0 0 8px 0;
    }
    
    #section-visits .subbox .subhead {
      font-weight: 800; 
      font-size: .82rem; 
      text-transform: uppercase;
      margin: 0 0 6px 0;
      display: flex; 
      justify-content: space-between; 
      align-items: center;
    }

    /* rows look like ticket lines: left label, right codes/btn, dotted rule */
    .list { 
      margin: 0; 
      padding: 0; 
    }
    
    .item {
      display: grid; 
      grid-template-columns: 1fr auto; 
      align-items: center;
      gap: 10px; 
      padding: 4px 0; 
      border-bottom: 1px dotted var(--rule);
    }
    
    .item:last-child { 
      border-bottom: none; 
    }

    /* leading open circle (purely visual) */
    .item::before {
      content: ""; 
      width: 11px; 
      height: 11px; 
      border: 1.6px solid var(--rule); 
      border-radius: 50%;
      margin-right: 8px; 
      justify-self: start;
    }
    
    .item > *:first-child { 
      display: flex; 
      align-items: center; 
      gap: 8px; 
    }

    /* right-aligned code text (CPT/HCPCS/etc) */
    .codes, .code-right {
      font-size: .8rem; 
      opacity: .9; 
      font-variant-numeric: tabular-nums; 
      text-align: right;
    }
    
    .codes { 
      display: none; 
    }  /* your JS toggles .show */
    
    .codes.show { 
      display: inline; 
    }

    /* "Add" buttons: small outlined squares like the paper buttons */
    .btn, .item button {
      background: #fff; 
      border: 1px solid var(--rule); 
      border-radius: 2px;
      padding: 1px 4px; 
      font-size: .78rem; 
      font-weight: 800; 
      cursor: pointer;
      min-width: 20px;
      height: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .btn:hover, .item button:hover { 
      background: #f0f0f0; 
    }

    /* OC control under Labs */
    .oc-row { 
      display: flex; 
      flex-direction: column; 
      gap: 6px; 
      align-items: flex-start; 
      margin: 6px 0 2px; 
    }
    
    .oc-row select { 
      min-width: 240px; 
      padding: 6px 10px; 
      border: 1px solid #000; 
      border-radius: 20px; 
      background: #f8c9f9; 
    }

    /* RIGHT: receipt box */
    .receipt {
      position: sticky; 
      top: 16px;
      background: #fff; 
      border: 1px solid var(--rule); 
      padding: 12px;
    }
    
    .receipt h2 { 
      margin: 0 0 8px 0; 
      text-transform: uppercase; 
      font-size: 1rem; 
    }
    
    .receipt-item {
      display: grid; 
      grid-template-columns: 1fr 84px 32px; 
      gap: 8px; 
      align-items: center; 
      margin: 4px 0;
    }
    
    .qty-select { 
      width: 84px; 
      padding: 6px 10px; 
      border: 1px solid var(--rule); 
      border-radius: 10px; 
      background: #eaf4fb; 
    }
    
    .remove { 
      height: 32px; 
      background: #eaf4fb; 
      border: 1px solid var(--rule); 
      border-radius: 8px; 
      cursor: pointer; 
    }
    
    .total {
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      margin-top: 8px; 
      padding-top: 8px;
      border-top: 2px solid var(--rule); 
      font-weight: 800; 
      font-variant-numeric: tabular-nums;
    }

    /* print like the ticket */
    @media print {
      @page { 
        margin: 0.5in; 
      }
      
      body { 
        background: #fff !important; 
      }
      
      .back-home, header { 
        display: none !important; 
      }
      
      .receipt { 
        position: static; 
      }
    }

    /* mobile fallback */
    @media (max-width: 900px) {
      .content { 
        grid-template-columns: 1fr; 
      }
      
      .sections { 
        grid-template-columns: 1fr; 
        grid-template-rows: auto auto auto;
      }
      
      #section-visits, 
      #section-procedures, 
      #section-labs, 
      #section-meds { 
        grid-column: 1; 
      }
      
      #section-visits .list {
        column-count: 1;
      }
    }
  </style>
</head>
<body>
  <a href="./index.html" class="back-home">Back to Home</a>

  <div class="page-wrapper">
    <header>
      <h1>Interactive Pricelist</h1>
      <div class="controls">
        <label for="percentSelector"><strong>Fee Percentage:</strong></label>
        <select id="percentSelector">
          <option value="100">100%</option>
          <option value="75">75%</option>
          <option value="50">50%</option>
          <option value="25">25%</option>
        </select>
        <label class="toggle-codes"><input type="checkbox" id="toggleCodes"> Show Codes</label>
      </div>
    </header>

    <div class="content">
      <!-- LEFT GRID: 2 rows Ã— 3 columns -->
      <div class="sections">

        <!-- ROW 1 (spans 2 cols internally split into 2 mini columns) -->
        <div class="section" id="section-visits">
          <div class="bar">Visit Codes</div>
          <div class="list">
            <div class="subbox">
              <div class="subhead">New Pt/Office</div>
              <div class="item">
                <span>New Patient - Level 1</span>
                <div>
                  <span class="codes">99201</span>
                  <button>Add</button>
                </div>
              </div>
              <div class="item">
                <span>New Patient - Level 2</span>
                <div>
                  <span class="codes">99202</span>
                  <button>Add</button>
                </div>
              </div>
              <div class="item">
                <span>New Patient - Level 3</span>
                <div>
                  <span class="codes">99203</span>
                  <button>Add</button>
                </div>
              </div>
            </div>
            <div class="subbox">
              <div class="subhead">Est. Pt/Office</div>
              <div class="item">
                <span>Est. Patient - Level 1</span>
                <div>
                  <span class="codes">99211</span>
                  <button>Add</button>
                </div>
              </div>
              <div class="item">
                <span>Est. Patient - Level 2</span>
                <div>
                  <span class="codes">99212</span>
                  <button>Add</button>
                </div>
              </div>
              <div class="item">
                <span>Est. Patient - Level 3</span>
                <div>
                  <span class="codes">99213</span>
                  <button>Add</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ROW 2 (three columns) -->
        <div class="section" id="section-procedures">
          <div class="bar">Procedures</div>
          <div class="list">
            <div class="item">
              <span>Pap Smear</span>
              <div>
                <span class="codes">88142</span>
                <button>Add</button>
              </div>
            </div>
            <div class="item">
              <span>IUD Insertion</span>
              <div>
                <span class="codes">58300</span>
                <button>Add</button>
              </div>
            </div>

  <script type="module" src="./pricelist.js"></script>

</body>
</html>
